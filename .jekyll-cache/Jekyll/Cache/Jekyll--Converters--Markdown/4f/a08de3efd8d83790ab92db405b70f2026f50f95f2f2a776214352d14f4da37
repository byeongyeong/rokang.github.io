I"<p>iOS 앱(<code class="highlighter-rouge">UIKit 프레임워크</code>)을 구성하는 핵심 객체들을 정리하고
iOS 앱이 어떻게 초기화되고 실행되는지 알아봅니다.</p>

<h2 id="uikit-프레임워크의-핵심-객체들">UIKit 프레임워크의 핵심 객체들</h2>

<h3 id="1-uiapplication">1) UIApplication</h3>
<ol>
  <li><a href="https://developer.apple.com/documentation/uikit/uiapplication">UIApplication</a>은 iOS에서 실행되는 앱을 위한 중앙화된 제어 및 조정 지점이다.</li>
</ol>

<p><a href="https://developer.apple.com/documentation/uikit/uiapplication">UIApplication</a>는 <a href="https://developer.apple.com/documentation/uikit/uiresponder">UIResponder</a> 클래스를 상속받는데, <a href="https://developer.apple.com/documentation/uikit/uiresponder">UIResponder</a> 클래스는 이벤트에 반응하여 처리해주기 위한 목적의 추상 인터페이스이다.
<a href="https://developer.apple.com/documentation/uikit/uiresponder">UIResponder</a> 인스턴스는 UIKit 앱의 이벤트를 처리하는 <strong>백본</strong>을 구성하고 UIKit은 이벤트가 발생할 때마다 해당 이벤트를 처리해주는 UIResponder 객체로 dispatch 해주게 된다. UIResponder는 <a href="https://developer.apple.com/documentation/uikit/uiapplication">UIApplication</a> 뿐만 아니라 <a href="https://developer.apple.com/documentation/uikit/uiviewcontroller">UIViewController</a>, <a href="https://developer.apple.com/documentation/uikit/uiview">UIView</a>도 될 수 있다.</p>

<p>UIApplication의 역할을 살펴보면 아래와 같다.</p>

<ol>
  <li>유저 이벤트의 초기 라우팅 처리를 함. UIControl 클래스의 인스턴스에 의해 전달된 이벤트 메시지를 적절한 대상 객체에 전달해줌.</li>
  <li>앱의 UIView 객체들을 확인할 수 있는 UIWindow 객체들을 갖고있음.</li>
  <li>UIApplicationDelegate 프로토콜을 준수하는 Delegate(=AppDelegate)를 정의함. UIApplication은 이 Delegate에 앱 시작, 메모리 부족 경고,
앱 종료와 같은 상당히 중요한 런타임 이벤트를 알려줌으로써 적절하게 대응할 수 있도록 해줌.</li>
  <li>이메일 또는 이미지 파일과 같은 리소스를 <a href="https://developer.apple.com/documentation/uikit/uiapplication/1648685-open">open(_:options:completionHandler:)</a> 메서드로 처리할 수 있음. 예를 들어, email URL로 이 메서드를 호출하는 앱은 Mail 앱을 시작하고 메시지를 보여줄 수 있음.</li>
  <li><a href="https://developer.apple.com/documentation/uikit/uiapplication/1648685-open">open(_:options:completionHandler:)</a> 뿐만이 아니라 UIApplication의 다른 API를 사용하면 디바이스별 동작을 관리할 수 있음.
    <ul>
      <li>원격 알림 등록 (<a href="https://developer.apple.com/documentation/uikit/uiapplication/1623078-registerforremotenotifications">registerForRemoteNotifications()</a>)</li>
      <li>실행취소-재실행 UI 트리거 (<a href="https://developer.apple.com/documentation/uikit/uiapplication/1623127-applicationsupportsshaketoedit">applicationSupportsShakeToEdit</a>)</li>
      <li>URL 스킴을 처리하기 위해 등록된 앱이 설치되어있는지 결정 (<a href="https://developer.apple.com/documentation/uikit/uiapplication/1622952-canopenurl">canOpenURL(_:)</a>)</li>
      <li>백그라운드 작업을 완료할 수 있도록하기 위한 앱 실행 확장 (<a href="https://developer.apple.com/documentation/uikit/uiapplication/1623031-beginbackgroundtask">beginBackgroundTask(expirationHandler:)</a> and <a href="https://developer.apple.com/documentation/uikit/uiapplication/1623051-beginbackgroundtask">beginBackgroundTask(withName:expirationHandler:)</a>)</li>
      <li>로컬 알림 스케쥴링 및 취소 (<a href="https://developer.apple.com/documentation/uikit/uiapplication/1623005-schedulelocalnotification">scheduleLocalNotification(:)</a> and <a href="https://developer.apple.com/documentation/uikit/uiapplication/1623082-cancellocalnotification">cancelLocalNotification(_:)</a>)</li>
      <li>원격-제어 이벤트 수신 조정 (<a href="https://developer.apple.com/documentation/uikit/uiapplication/1623126-beginreceivingremotecontrolevent">beginReceivingRemoteControlEvents()</a> and <a href="https://developer.apple.com/documentation/uikit/uiapplication/1623057-endreceivingremotecontrolevents">endReceivingRemoteControlEvents()</a>)</li>
      <li>앱 상태 복원 작업 수행 (<a href="https://developer.apple.com/documentation/uikit/uiapplication#1657552">상태 복원 작업을 관리하는 그룹</a>의 메서드)</li>
    </ul>
  </li>
</ol>

<p>대부분의 앱은 <a href="https://developer.apple.com/documentation/uikit/uiapplication">UIApplication</a>을 서브클래싱 할 필요가 없고 시스템과 앱 사이의 상호작용을 관리하기 위해 AppDelegate를 사용한다. 만약 앱이 들어오는 이벤트를 시스템이 처리하기 전에 처리하고자 한다면, <a href="https://developer.apple.com/documentation/uikit/uiapplication">UIApplication</a>을 서브클래싱하고 <a href="https://developer.apple.com/documentation/uikit/uiapplication/1623043-sendevent">sendEvent(:)</a>나 <a href="https://developer.apple.com/documentation/uikit/uiapplication/1622946-sendaction">sendAction(_:to:from:for:)</a>을 오버라이딩해서 처리한 후, super 메서드로 시스템을 다시 호출하면 된다. 물론 되도록이면 안하는게 좋다고 한다.</p>

<p><br /></p>
:ET